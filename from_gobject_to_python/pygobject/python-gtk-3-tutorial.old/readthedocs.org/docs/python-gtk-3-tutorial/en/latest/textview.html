

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    

    <title>12. Multiline Text Editor &mdash; Python GTK+ 3 Tutorial 1.0 documentation</title>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script>
<script type="text/javascript" src="http://media.readthedocs.org/javascript/underscore.js"></script>
<script type="text/javascript" src="http://media.readthedocs.org/javascript/doctools.js"></script>
<script type="text/javascript" src="http://media.readthedocs.org/javascript/searchtools.js"></script>

  <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;"/>


  <script type="text/javascript">
    var doc_version = "latest";
    var doc_slug = "python-gtk-3-tutorial";
  </script>
  <script type="text/javascript" src="http://media.readthedocs.org/javascript/rtd.js"></script>

    
    <link rel="stylesheet" href="_static/rtd.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <link rel="top" title="Python GTK+ 3 Tutorial 1.0 documentation" href="index.html" />
    <link rel="next" title="13. Menus" href="menus.html" />
    <link rel="prev" title="11. ComboBox" href="combobox.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="menus.html" title="13. Menus"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="combobox.html" title="11. ComboBox"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Python GTK+ 3 Tutorial 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="multiline-text-editor">
<h1>12. Multiline Text Editor<a class="headerlink" href="#multiline-text-editor" title="Permalink to this headline">¶</a></h1>
<p>The <a class="reference internal" href="#Gtk.TextView" title="Gtk.TextView"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextView</span></tt></a> widget can be used to display and edit large amounts
of formatted text. Like the <a class="reference internal" href="treeview.html#Gtk.TreeView" title="Gtk.TreeView"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TreeView</span></tt></a>, it has a model/view design.
In this case the <a class="reference internal" href="#Gtk.TextBuffer" title="Gtk.TextBuffer"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextBuffer</span></tt></a> is the model which represents the text
being edited. This allows two or more <a class="reference internal" href="#Gtk.TextView" title="Gtk.TextView"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextView</span></tt></a> widgets to share the
same <a class="reference internal" href="#Gtk.TextBuffer" title="Gtk.TextBuffer"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextBuffer</span></tt></a>, and allows those text buffers to be displayed
slightly differently. Or you could maintain several text buffers and choose to
display each one at different times in the same <a class="reference internal" href="#Gtk.TextView" title="Gtk.TextView"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextView</span></tt></a> widget.</p>
<div class="section" id="the-view">
<h2>12.1. The View<a class="headerlink" href="#the-view" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#Gtk.TextView" title="Gtk.TextView"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextView</span></tt></a> is the frontend with which the user can add, edit and
delete textual data. They are commonly used to edit multiple lines of text.
When creating a <a class="reference internal" href="#Gtk.TextView" title="Gtk.TextView"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextView</span></tt></a> it contains its own default
<a class="reference internal" href="#Gtk.TextBuffer" title="Gtk.TextBuffer"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextBuffer</span></tt></a>, which you can access via the <a class="reference internal" href="#Gtk.TextView.get_buffer" title="Gtk.TextView.get_buffer"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.TextView.get_buffer()</span></tt></a>
method.</p>
<p>By default, text can be added, edited and removed from the <a class="reference internal" href="#Gtk.TextView" title="Gtk.TextView"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextView</span></tt></a>.
You can disable this by calling <a class="reference internal" href="#Gtk.TextView.set_editable" title="Gtk.TextView.set_editable"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.TextView.set_editable()</span></tt></a>.
If the text is not editable, you usually want to hide the text cursor with
<a class="reference internal" href="#Gtk.TextView.set_cursor_visible" title="Gtk.TextView.set_cursor_visible"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.TextView.set_cursor_visible()</span></tt></a> as well. In some cases it may be useful
to set the justification of the text with <a class="reference internal" href="#Gtk.TextView.set_justification" title="Gtk.TextView.set_justification"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.TextView.set_justification()</span></tt></a>.
The text can be displayed at the left edge, (<tt class="xref py py-attr docutils literal"><span class="pre">Gtk.Justification.LEFT</span></tt>),
at the right edge (<tt class="xref py py-attr docutils literal"><span class="pre">Gtk.Justification.RIGHT</span></tt>), centered
(<tt class="xref py py-attr docutils literal"><span class="pre">Gtk.Justification.CENTER</span></tt>), or distributed across the complete
width (<tt class="xref py py-attr docutils literal"><span class="pre">Gtk.Justification.FILL</span></tt>).</p>
<p>Another default setting of the <a class="reference internal" href="#Gtk.TextView" title="Gtk.TextView"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextView</span></tt></a> widget is long lines of
text will continue horizontally until a break is entered. To wrap the text and
prevent it going off the edges of the screen call <a class="reference internal" href="#Gtk.TextView.set_wrap_mode" title="Gtk.TextView.set_wrap_mode"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.TextView.set_wrap_mode()</span></tt></a>.</p>
<div class="section" id="textview-objects">
<h3>12.1.1. TextView Objects<a class="headerlink" href="#textview-objects" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="Gtk.TextView">
<em class="property">class </em><tt class="descclassname">Gtk.</tt><tt class="descname">TextView</tt><a class="headerlink" href="#Gtk.TextView" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new <a class="reference internal" href="#Gtk.TextView" title="Gtk.TextView"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextView</span></tt></a> associated with an empty default
<a class="reference internal" href="#Gtk.TextBuffer" title="Gtk.TextBuffer"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextBuffer</span></tt></a>.</p>
<dl class="method">
<dt id="Gtk.TextView.get_buffer">
<tt class="descname">get_buffer</tt><big>(</big><big>)</big><a class="headerlink" href="#Gtk.TextView.get_buffer" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the <a class="reference internal" href="#Gtk.TextBuffer" title="Gtk.TextBuffer"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextBuffer</span></tt></a> being displayed by this text view.</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.TextView.set_editable">
<tt class="descname">set_editable</tt><big>(</big><em>editable</em><big>)</big><a class="headerlink" href="#Gtk.TextView.set_editable" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the default editability of this <a class="reference internal" href="#Gtk.TextView" title="Gtk.TextView"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextView</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.TextView.set_cursor_visible">
<tt class="descname">set_cursor_visible</tt><big>(</big><em>visible</em><big>)</big><a class="headerlink" href="#Gtk.TextView.set_cursor_visible" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggles whether the insertion point is displayed. A buffer with no
editable text probably shouldn&#8217;t have a visible cursor, so you may want
to turn the cursor off.</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.TextView.set_justification">
<tt class="descname">set_justification</tt><big>(</big><em>justification</em><big>)</big><a class="headerlink" href="#Gtk.TextView.set_justification" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the default justification of text.</p>
<p><em>justification</em> can be one of the following values:</p>
<ul class="simple">
<li><tt class="xref py py-attr docutils literal"><span class="pre">Gtk.Justification.LEFT</span></tt>: Text is placed at the left edge.</li>
<li><tt class="xref py py-attr docutils literal"><span class="pre">Gtk.Justification.RIGHT</span></tt>: Text is placed at the right edge.</li>
<li><tt class="xref py py-attr docutils literal"><span class="pre">Gtk.Justification.CENTER</span></tt>: Text is placed in the center.</li>
<li><tt class="xref py py-attr docutils literal"><span class="pre">Gtk.Justification.FILL</span></tt>: Text is distributed across the
complete width.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="Gtk.TextView.set_wrap_mode">
<tt class="descname">set_wrap_mode</tt><big>(</big><em>wrap_mode</em><big>)</big><a class="headerlink" href="#Gtk.TextView.set_wrap_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the line wrapping for the view.</p>
<p><em>wrap_mode</em> can be one of the following values:</p>
<ul class="simple">
<li><tt class="xref py py-attr docutils literal"><span class="pre">Gtk.WrapMode.NONE</span></tt>: Do not wrap lines; just make the text area
wider.</li>
<li><tt class="xref py py-attr docutils literal"><span class="pre">Gtk.WrapMode.CHAR</span></tt>: Wrap text, breaking lines anywhere the cursor
can appear (between characters, usually).</li>
<li><tt class="xref py py-attr docutils literal"><span class="pre">Gtk.WrapMode.WORD</span></tt>: Wrap text, breaking lines in between words.</li>
<li><tt class="xref py py-attr docutils literal"><span class="pre">Gtk.WrapMode.WORD_CHAR</span></tt>: Wrap text, breaking lines in between
words, or if that is not enough, also between <a class="reference external" href="http://developer.gnome.org/pango/stable/pango-Text-Processing.html#pango-get-log-attrs">graphemes</a>.</li>
</ul>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="the-model">
<h2>12.2. The Model<a class="headerlink" href="#the-model" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#Gtk.TextBuffer" title="Gtk.TextBuffer"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextBuffer</span></tt></a> is the core of the <a class="reference internal" href="#Gtk.TextView" title="Gtk.TextView"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextView</span></tt></a> widget, and
is used to hold whatever text is being displayed in the <a class="reference internal" href="#Gtk.TextView" title="Gtk.TextView"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextView</span></tt></a>.
Setting and retrieving the contents is possible with <a class="reference internal" href="#Gtk.TextBuffer.set_text" title="Gtk.TextBuffer.set_text"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.TextBuffer.set_text()</span></tt></a>
and <a class="reference internal" href="#Gtk.TextBuffer.get_text" title="Gtk.TextBuffer.get_text"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.TextBuffer.get_text()</span></tt></a>.
However, most text manipulation is accomplished with <em>iterators</em>, represented by
a <a class="reference internal" href="#Gtk.TextIter" title="Gtk.TextIter"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextIter</span></tt></a>. An iterator represents a position between two characters
in the text buffer. Iterators are not valid indefinitely; whenever the buffer is
modified in a way that affects the contents of the buffer, all outstanding
iterators become invalid.</p>
<p>Because of this, iterators can&#8217;t be used to preserve positions across buffer
modifications. To preserve a position, use <a class="reference internal" href="#Gtk.TextMark" title="Gtk.TextMark"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextMark</span></tt></a>.
A text buffer contains two built-in marks; an &#8220;insert&#8221; mark (which is the position
of the cursor) and the &#8220;selection_bound&#8221; mark. Both of them can be retrieved using
<a class="reference internal" href="#Gtk.TextBuffer.get_insert" title="Gtk.TextBuffer.get_insert"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.TextBuffer.get_insert()</span></tt></a> and <a class="reference internal" href="#Gtk.TextBuffer.get_selection_bound" title="Gtk.TextBuffer.get_selection_bound"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.TextBuffer.get_selection_bound()</span></tt></a>,
respectively. By default, the location of a <a class="reference internal" href="#Gtk.TextMark" title="Gtk.TextMark"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextMark</span></tt></a> is not shown.
This can be changed by calling <a class="reference internal" href="#Gtk.TextMark.set_visible" title="Gtk.TextMark.set_visible"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.TextMark.set_visible()</span></tt></a>.</p>
<p>Many methods exist to retrieve a <a class="reference internal" href="#Gtk.TextIter" title="Gtk.TextIter"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextIter</span></tt></a>. For instance,
<a class="reference internal" href="#Gtk.TextBuffer.get_start_iter" title="Gtk.TextBuffer.get_start_iter"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.TextBuffer.get_start_iter()</span></tt></a> returns an iterator pointing to the first
position in the text buffer, whereas <a class="reference internal" href="#Gtk.TextBuffer.get_end_iter" title="Gtk.TextBuffer.get_end_iter"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.TextBuffer.get_end_iter()</span></tt></a> returns
an iterator pointing past the last valid character. Retrieving the bounds of
the selected text can be achieved by calling
<a class="reference internal" href="#Gtk.TextBuffer.get_selection_bounds" title="Gtk.TextBuffer.get_selection_bounds"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.TextBuffer.get_selection_bounds()</span></tt></a>.</p>
<p>To insert text at a specific position use <a class="reference internal" href="#Gtk.TextBuffer.insert" title="Gtk.TextBuffer.insert"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.TextBuffer.insert()</span></tt></a>.
Another useful method is <a class="reference internal" href="#Gtk.TextBuffer.insert_at_cursor" title="Gtk.TextBuffer.insert_at_cursor"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.TextBuffer.insert_at_cursor()</span></tt></a> which inserts
text wherever the cursor may be currently positioned. To remove portions of
the text buffer use <a class="reference internal" href="#Gtk.TextBuffer.delete" title="Gtk.TextBuffer.delete"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.TextBuffer.delete()</span></tt></a>.</p>
<p>In addition, <a class="reference internal" href="#Gtk.TextIter" title="Gtk.TextIter"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextIter</span></tt></a> can be used to locate textual matches in the
buffer using <a class="reference internal" href="#Gtk.TextIter.forward_search" title="Gtk.TextIter.forward_search"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.TextIter.forward_search()</span></tt></a> and
<a class="reference internal" href="#Gtk.TextIter.backward_search" title="Gtk.TextIter.backward_search"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.TextIter.backward_search()</span></tt></a>.
The start and end iters are used as the starting point of the search and move
forwards/backwards depending on requirements.</p>
<div class="section" id="textbuffer-objects">
<h3>12.2.1. TextBuffer Objects<a class="headerlink" href="#textbuffer-objects" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="Gtk.TextBuffer">
<em class="property">class </em><tt class="descclassname">Gtk.</tt><tt class="descname">TextBuffer</tt><a class="headerlink" href="#Gtk.TextBuffer" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="Gtk.TextBuffer.set_text">
<tt class="descname">set_text</tt><big>(</big><em>text</em><span class="optional">[</span>, <em>length</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#Gtk.TextBuffer.set_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes current contents of this buffer, and inserts <em>length</em> characters
of <em>text</em> instead. If <em>length</em> is -1 or omitted, <em>text</em> is inserted
completely.</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.TextBuffer.get_text">
<tt class="descname">get_text</tt><big>(</big><em>start_iter</em>, <em>end_iter</em><big>)</big><a class="headerlink" href="#Gtk.TextBuffer.get_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the text in the range <em>start_iter</em> (included) and <em>end_iter</em>
(excluded). Excludes undisplayed text.</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.TextBuffer.get_insert">
<tt class="descname">get_insert</tt><big>(</big><big>)</big><a class="headerlink" href="#Gtk.TextBuffer.get_insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the <a class="reference internal" href="#Gtk.TextMark" title="Gtk.TextMark"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextMark</span></tt></a> that represents the cursor (insertion
point).</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.TextBuffer.get_selection_bound">
<tt class="descname">get_selection_bound</tt><big>(</big><big>)</big><a class="headerlink" href="#Gtk.TextBuffer.get_selection_bound" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the <a class="reference internal" href="#Gtk.TextMark" title="Gtk.TextMark"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextMark</span></tt></a> that represents the selection bound.</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.TextBuffer.create_mark">
<tt class="descname">create_mark</tt><big>(</big><em>mark_name</em>, <em>where</em><span class="optional">[</span>, <em>left_gravity</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#Gtk.TextBuffer.create_mark" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a <a class="reference internal" href="#Gtk.TextMark" title="Gtk.TextMark"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextMark</span></tt></a> at the position of the <a class="reference internal" href="#Gtk.TextIter" title="Gtk.TextIter"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextIter</span></tt></a>
<em>where</em>. If <em>mark_name</em> is <tt class="docutils literal"><span class="pre">None</span></tt>, the mark is anonymous; otherwise,
the mark can be retrieved by name using <a class="reference internal" href="#Gtk.TextBuffer.get_mark" title="Gtk.TextBuffer.get_mark"><tt class="xref py py-meth docutils literal"><span class="pre">get_mark()</span></tt></a>. If a mark has
left gravity, and text is inserted at the mark&#8217;s current location,
the mark will be moved to the left of the newly-inserted text.
If the mark has right gravity (<em>left_gravity</em> is <tt class="docutils literal"><span class="pre">False</span></tt>), the mark will
end up on the right of newly-inserted text. The standard left-to-right
cursor is a mark with right gravity (when you type, the cursor stays on
the right side of the text you&#8217;re typing).</p>
<p>If <em>left_gravity</em> is omitted, it defaults to <tt class="docutils literal"><span class="pre">False</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.TextBuffer.get_mark">
<tt class="descname">get_mark</tt><big>(</big><em>mark_name</em><big>)</big><a class="headerlink" href="#Gtk.TextBuffer.get_mark" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the <a class="reference internal" href="#Gtk.TextMark" title="Gtk.TextMark"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextMark</span></tt></a> named name in this buffer, or <tt class="docutils literal"><span class="pre">None</span></tt>
if no such mark exists in the buffer.</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.TextBuffer.get_start_iter">
<tt class="descname">get_start_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#Gtk.TextBuffer.get_start_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <a class="reference internal" href="#Gtk.TextIter" title="Gtk.TextIter"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextIter</span></tt></a> pointing to first position in this buffer.</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.TextBuffer.get_end_iter">
<tt class="descname">get_end_iter</tt><big>(</big><big>)</big><a class="headerlink" href="#Gtk.TextBuffer.get_end_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a <a class="reference internal" href="#Gtk.TextIter" title="Gtk.TextIter"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextIter</span></tt></a> pointing past the last valid character
in this buffer.</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.TextBuffer.get_selection_bounds">
<tt class="descname">get_selection_bounds</tt><big>(</big><big>)</big><a class="headerlink" href="#Gtk.TextBuffer.get_selection_bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a tuple of two <a class="reference internal" href="#Gtk.TextIter" title="Gtk.TextIter"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextIter</span></tt></a> objects pointing to the
first character of the selection and to the first character after the
selection, respectively. If no text is selected an empty tuple is returned.</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.TextBuffer.insert">
<tt class="descname">insert</tt><big>(</big><em>text_iter</em>, <em>text</em><span class="optional">[</span>, <em>length</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#Gtk.TextBuffer.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts <em>length</em> characters of <em>text</em> at position <em>text_iter</em>.
If <em>length</em> is -1 or omitted, <em>text</em> is inserted completely.</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.TextBuffer.insert_at_cursor">
<tt class="descname">insert_at_cursor</tt><big>(</big><em>text</em><span class="optional">[</span>, <em>length</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#Gtk.TextBuffer.insert_at_cursor" title="Permalink to this definition">¶</a></dt>
<dd><p>Simply calls <a class="reference internal" href="#Gtk.TextBuffer.insert" title="Gtk.TextBuffer.insert"><tt class="xref py py-meth docutils literal"><span class="pre">insert()</span></tt></a>, using the current cursor position as the
insertion point.</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.TextBuffer.delete">
<tt class="descname">delete</tt><big>(</big><em>start_iter</em>, <em>end_iter</em><big>)</big><a class="headerlink" href="#Gtk.TextBuffer.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes text between <em>start_iter</em> and <em>end_iter</em>.</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.TextBuffer.create_tag">
<tt class="descname">create_tag</tt><big>(</big><em>tag_name</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#Gtk.TextBuffer.create_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a tag and adds it to the tag table of this buffer.</p>
<p>If <em>tag_name</em> is <tt class="docutils literal"><span class="pre">None</span></tt>, the tag is anonymous, otherwise a tag with
the same name must not already exist in the tag table of the buffer.</p>
<p><em>kwargs</em> is an arbitrary number of key-value pairs that represent a list
properties to set on the tag, as with <tt class="docutils literal"><span class="pre">tag.set_property(prop_name,</span> <span class="pre">value)</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.TextBuffer.apply_tag">
<tt class="descname">apply_tag</tt><big>(</big><em>tag</em>, <em>start_iter</em>, <em>end_iter</em><big>)</big><a class="headerlink" href="#Gtk.TextBuffer.apply_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies <em>tag</em> to the given range.</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.TextBuffer.remove_tag">
<tt class="descname">remove_tag</tt><big>(</big><em>tag</em>, <em>start_iter</em>, <em>end_iter</em><big>)</big><a class="headerlink" href="#Gtk.TextBuffer.remove_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes all occurrences of <em>tag</em> from the given range.</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.TextBuffer.remove_all_tags">
<tt class="descname">remove_all_tags</tt><big>(</big><em>start_iter</em>, <em>end_iter</em><big>)</big><a class="headerlink" href="#Gtk.TextBuffer.remove_all_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes all tags in the given range.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Gtk.TextIter">
<em class="property">class </em><tt class="descclassname">Gtk.</tt><tt class="descname">TextIter</tt><a class="headerlink" href="#Gtk.TextIter" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="Gtk.TextIter.forward_search">
<tt class="descname">forward_search</tt><big>(</big><em>needle</em>, <em>flags</em>, <em>limit</em><big>)</big><a class="headerlink" href="#Gtk.TextIter.forward_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches forward for <em>needle</em>. The search will not continue past the
<a class="reference internal" href="#Gtk.TextIter" title="Gtk.TextIter"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextIter</span></tt></a> <em>limit</em>.</p>
<p><em>flags</em> can be set to one of the following, or any combination of it by
concatenating them with the bitwise-OR operator <tt class="docutils literal"><span class="pre">|</span></tt>.</p>
<ul class="simple">
<li>0: The match must be exact.</li>
<li><tt class="xref py py-attr docutils literal"><span class="pre">Gtk.TextSearchFlags.VISIBLE_ONLY</span></tt>: The match may have invisible
text interspersed in <em>needle</em>. i.e. <em>needle</em> will be a
possibly-noncontiguous subsequence of the matched range.</li>
<li><tt class="xref py py-attr docutils literal"><span class="pre">Gtk.TextSearchFlags.TEXT_ONLY</span></tt>: The match may have pixbufs or
child widgets mixed inside the matched range.</li>
<li><tt class="xref py py-attr docutils literal"><span class="pre">Gtk.TextSearchFlags.CASE_INSENSITIVE</span></tt>: The text will be matched
regardless of what case it is in.</li>
</ul>
<p>Returns a tupel containing a <a class="reference internal" href="#Gtk.TextIter" title="Gtk.TextIter"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextIter</span></tt></a> pointing to the start
and to the first character after the match. If no match was found,
<tt class="docutils literal"><span class="pre">None</span></tt> is returned.</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.TextIter.backward_search">
<tt class="descname">backward_search</tt><big>(</big><em>needle</em>, <em>flags</em>, <em>limit</em><big>)</big><a class="headerlink" href="#Gtk.TextIter.backward_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <a class="reference internal" href="#Gtk.TextIter.forward_search" title="Gtk.TextIter.forward_search"><tt class="xref py py-meth docutils literal"><span class="pre">forward_search()</span></tt></a>, but moves backward.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Gtk.TextMark">
<em class="property">class </em><tt class="descclassname">Gtk.</tt><tt class="descname">TextMark</tt><a class="headerlink" href="#Gtk.TextMark" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="Gtk.TextMark.set_visible">
<tt class="descname">set_visible</tt><big>(</big><em>visible</em><big>)</big><a class="headerlink" href="#Gtk.TextMark.set_visible" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the visibility of this mark; the insertion point is normally visible,
i.e. you can see it as a vertical bar. Also, the text widget uses a
visible mark to indicate where a drop will occur when dragging-and-dropping
text. Most other marks are not visible. Marks are not visible by default.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="tags">
<h2>12.3. Tags<a class="headerlink" href="#tags" title="Permalink to this headline">¶</a></h2>
<p>Text in a buffer can be marked with tags. A tag is an attribute that can be
applied to some range of text. For example, a tag might be called &#8220;bold&#8221; and make
the text inside the tag bold. However, the tag concept is more general than that;
tags don&#8217;t have to affect appearance. They can instead affect the behaviour of
mouse and key presses, &#8220;lock&#8221; a range of text so the user can&#8217;t edit it, or
countless other things. A tag is represented by a <tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextTag</span></tt> object.
One <tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextTag</span></tt> can be applied to any number of text ranges in any number
of buffers.</p>
<p>Each tag is stored in a <tt class="xref py py-class docutils literal"><span class="pre">Gtk.TextTagTable</span></tt>. A tag table defines a set of
tags that can be used together. Each buffer has one tag table associated with it;
only tags from that tag table can be used with the buffer. A single tag table can
be shared between multiple buffers, however.</p>
<p>To specify that some text in the buffer should have specific formatting, you must
define a tag to hold that formatting information, and then apply that tag to the
region of text using <a class="reference internal" href="#Gtk.TextBuffer.create_tag" title="Gtk.TextBuffer.create_tag"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.TextBuffer.create_tag()</span></tt></a>
and <a class="reference internal" href="#Gtk.TextBuffer.apply_tag" title="Gtk.TextBuffer.apply_tag"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.TextBuffer.apply_tag()</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">tag</span> <span class="o">=</span> <span class="n">textbuffer</span><span class="o">.</span><span class="n">create_tag</span><span class="p">(</span><span class="s">&quot;orange_bg&quot;</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="s">&quot;orange&quot;</span><span class="p">)</span>
<span class="n">textbuffer</span><span class="o">.</span><span class="n">apply_tag</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="n">start_iter</span><span class="p">,</span> <span class="n">end_iter</span><span class="p">)</span>
</pre></div>
</div>
<p>The following are some of the common styles applied to text:</p>
<blockquote>
<div><ul class="simple">
<li>Background colour (&#8220;foreground&#8221; property)</li>
<li>Foreground colour (&#8220;background&#8221; property)</li>
<li>Underline (&#8220;underline&#8221; property)</li>
<li>Bold (&#8220;weight&#8221; property)</li>
<li>Italics (&#8220;style&#8221; property)</li>
<li>Strikethrough (&#8220;strikethrough&#8221; property)</li>
<li>Justification (&#8220;justification&#8221; property)</li>
<li>Size (&#8220;size&#8221; and &#8220;size-points&#8221; properties)</li>
<li>Text wrapping (&#8220;wrap-mode&#8221; property)</li>
</ul>
</div></blockquote>
<p>You can also delete particular tags later using <a class="reference internal" href="#Gtk.TextBuffer.remove_tag" title="Gtk.TextBuffer.remove_tag"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.TextBuffer.remove_tag()</span></tt></a>
or delete all tags in a given region by calling <a class="reference internal" href="#Gtk.TextBuffer.remove_all_tags" title="Gtk.TextBuffer.remove_all_tags"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.TextBuffer.remove_all_tags()</span></tt></a>.</p>
</div>
<div class="section" id="example">
<h2>12.4. Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<img alt="_images/textview_example.png" src="_images/textview_example.png" />
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">gi.repository</span> <span class="kn">import</span> <span class="n">Gtk</span><span class="p">,</span> <span class="n">Pango</span>

<span class="k">class</span> <span class="nc">SearchDialog</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Dialog</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="n">Gtk</span><span class="o">.</span><span class="n">Dialog</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&quot;Search&quot;</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span>
            <span class="n">Gtk</span><span class="o">.</span><span class="n">DialogFlags</span><span class="o">.</span><span class="n">MODAL</span><span class="p">,</span> <span class="n">buttons</span><span class="o">=</span><span class="p">(</span>
            <span class="n">Gtk</span><span class="o">.</span><span class="n">STOCK_FIND</span><span class="p">,</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ResponseType</span><span class="o">.</span><span class="n">OK</span><span class="p">,</span>
            <span class="n">Gtk</span><span class="o">.</span><span class="n">STOCK_CANCEL</span><span class="p">,</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ResponseType</span><span class="o">.</span><span class="n">CANCEL</span><span class="p">))</span>

        <span class="n">box</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_content_area</span><span class="p">()</span>

        <span class="n">label</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s">&quot;Insert text you want to search for:&quot;</span><span class="p">)</span>
        <span class="n">box</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">entry</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Entry</span><span class="p">()</span>
        <span class="n">box</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">entry</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">show_all</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">TextViewWindow</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Window</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">Gtk</span><span class="o">.</span><span class="n">Window</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s">&quot;TextView Example&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">set_default_size</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">350</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">grid</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Grid</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">grid</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">create_textview</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_toolbar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_buttons</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">create_toolbar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">toolbar</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Toolbar</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">toolbar</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="n">button_bold</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ToolButton</span><span class="o">.</span><span class="n">new_from_stock</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">STOCK_BOLD</span><span class="p">)</span>
        <span class="n">toolbar</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">button_bold</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="n">button_italic</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ToolButton</span><span class="o">.</span><span class="n">new_from_stock</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">STOCK_ITALIC</span><span class="p">)</span>
        <span class="n">toolbar</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">button_italic</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="n">button_underline</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ToolButton</span><span class="o">.</span><span class="n">new_from_stock</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">STOCK_UNDERLINE</span><span class="p">)</span>
        <span class="n">toolbar</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">button_underline</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

        <span class="n">button_bold</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;clicked&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_button_clicked</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tag_bold</span><span class="p">)</span>
        <span class="n">button_italic</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;clicked&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_button_clicked</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tag_italic</span><span class="p">)</span>
        <span class="n">button_underline</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;clicked&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_button_clicked</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tag_underline</span><span class="p">)</span>

        <span class="n">toolbar</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">SeparatorToolItem</span><span class="p">(),</span> <span class="mi">3</span><span class="p">)</span>

        <span class="n">radio_justifyleft</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">RadioToolButton</span><span class="p">()</span>
        <span class="n">radio_justifyleft</span><span class="o">.</span><span class="n">set_stock_id</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">STOCK_JUSTIFY_LEFT</span><span class="p">)</span>
        <span class="n">toolbar</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">radio_justifyleft</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

        <span class="n">radio_justifycenter</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">RadioToolButton</span><span class="o">.</span><span class="n">new_with_stock_from_widget</span><span class="p">(</span>
            <span class="n">radio_justifyleft</span><span class="p">,</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">STOCK_JUSTIFY_CENTER</span><span class="p">)</span>
        <span class="n">toolbar</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">radio_justifycenter</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

        <span class="n">radio_justifyright</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">RadioToolButton</span><span class="o">.</span><span class="n">new_with_stock_from_widget</span><span class="p">(</span>
            <span class="n">radio_justifyleft</span><span class="p">,</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">STOCK_JUSTIFY_RIGHT</span><span class="p">)</span>
        <span class="n">toolbar</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">radio_justifyright</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>

        <span class="n">radio_justifyfill</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">RadioToolButton</span><span class="o">.</span><span class="n">new_with_stock_from_widget</span><span class="p">(</span>
            <span class="n">radio_justifyleft</span><span class="p">,</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">STOCK_JUSTIFY_FILL</span><span class="p">)</span>
        <span class="n">toolbar</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">radio_justifyfill</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>

        <span class="n">radio_justifyleft</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;toggled&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_justify_toggled</span><span class="p">,</span>
            <span class="n">Gtk</span><span class="o">.</span><span class="n">Justification</span><span class="o">.</span><span class="n">LEFT</span><span class="p">)</span>
        <span class="n">radio_justifycenter</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;toggled&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_justify_toggled</span><span class="p">,</span>
            <span class="n">Gtk</span><span class="o">.</span><span class="n">Justification</span><span class="o">.</span><span class="n">CENTER</span><span class="p">)</span>
        <span class="n">radio_justifyright</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;toggled&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_justify_toggled</span><span class="p">,</span>
            <span class="n">Gtk</span><span class="o">.</span><span class="n">Justification</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">)</span>
        <span class="n">radio_justifyfill</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;toggled&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_justify_toggled</span><span class="p">,</span>
            <span class="n">Gtk</span><span class="o">.</span><span class="n">Justification</span><span class="o">.</span><span class="n">FILL</span><span class="p">)</span>

        <span class="n">toolbar</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">SeparatorToolItem</span><span class="p">(),</span> <span class="mi">8</span><span class="p">)</span>

        <span class="n">button_clear</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ToolButton</span><span class="o">.</span><span class="n">new_from_stock</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">STOCK_CLEAR</span><span class="p">)</span>
        <span class="n">button_clear</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;clicked&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_clear_clicked</span><span class="p">)</span>
        <span class="n">toolbar</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">button_clear</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>

        <span class="n">toolbar</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">SeparatorToolItem</span><span class="p">(),</span> <span class="mi">10</span><span class="p">)</span>

        <span class="n">button_search</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ToolButton</span><span class="o">.</span><span class="n">new_from_stock</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">STOCK_FIND</span><span class="p">)</span>
        <span class="n">button_search</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;clicked&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_search_clicked</span><span class="p">)</span>
        <span class="n">toolbar</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">button_search</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_textview</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">scrolledwindow</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ScrolledWindow</span><span class="p">()</span>
        <span class="n">scrolledwindow</span><span class="o">.</span><span class="n">set_hexpand</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="n">scrolledwindow</span><span class="o">.</span><span class="n">set_vexpand</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">scrolledwindow</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">textview</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">TextView</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">textbuffer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">textview</span><span class="o">.</span><span class="n">get_buffer</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">textbuffer</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s">&quot;This is some text inside of a Gtk.TextView. &quot;</span>
            <span class="o">+</span> <span class="s">&quot;Select text and click one of the buttons &#39;bold&#39;, &#39;italic&#39;, &quot;</span>
            <span class="o">+</span> <span class="s">&quot;or &#39;underline&#39; to modify the text accordingly.&quot;</span><span class="p">)</span>
        <span class="n">scrolledwindow</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">textview</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tag_bold</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">textbuffer</span><span class="o">.</span><span class="n">create_tag</span><span class="p">(</span><span class="s">&quot;bold&quot;</span><span class="p">,</span>
            <span class="n">weight</span><span class="o">=</span><span class="n">Pango</span><span class="o">.</span><span class="n">Weight</span><span class="o">.</span><span class="n">BOLD</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tag_italic</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">textbuffer</span><span class="o">.</span><span class="n">create_tag</span><span class="p">(</span><span class="s">&quot;italic&quot;</span><span class="p">,</span>
            <span class="n">style</span><span class="o">=</span><span class="n">Pango</span><span class="o">.</span><span class="n">Style</span><span class="o">.</span><span class="n">ITALIC</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tag_underline</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">textbuffer</span><span class="o">.</span><span class="n">create_tag</span><span class="p">(</span><span class="s">&quot;underline&quot;</span><span class="p">,</span>
            <span class="n">underline</span><span class="o">=</span><span class="n">Pango</span><span class="o">.</span><span class="n">Underline</span><span class="o">.</span><span class="n">SINGLE</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tag_found</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">textbuffer</span><span class="o">.</span><span class="n">create_tag</span><span class="p">(</span><span class="s">&quot;found&quot;</span><span class="p">,</span>
            <span class="n">background</span><span class="o">=</span><span class="s">&quot;yellow&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_buttons</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">check_editable</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">CheckButton</span><span class="p">(</span><span class="s">&quot;Editable&quot;</span><span class="p">)</span>
        <span class="n">check_editable</span><span class="o">.</span><span class="n">set_active</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="n">check_editable</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;toggled&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_editable_toggled</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">check_editable</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="n">check_cursor</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">CheckButton</span><span class="p">(</span><span class="s">&quot;Cursor Visible&quot;</span><span class="p">)</span>
        <span class="n">check_cursor</span><span class="o">.</span><span class="n">set_active</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="n">check_editable</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;toggled&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_cursor_toggled</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">attach_next_to</span><span class="p">(</span><span class="n">check_cursor</span><span class="p">,</span> <span class="n">check_editable</span><span class="p">,</span>
            <span class="n">Gtk</span><span class="o">.</span><span class="n">PositionType</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="n">radio_wrapnone</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">RadioButton</span><span class="o">.</span><span class="n">new_with_label_from_widget</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span>
            <span class="s">&quot;No Wrapping&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="n">radio_wrapnone</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="n">radio_wrapchar</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">RadioButton</span><span class="o">.</span><span class="n">new_with_label_from_widget</span><span class="p">(</span>
            <span class="n">radio_wrapnone</span><span class="p">,</span> <span class="s">&quot;Character Wrapping&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">attach_next_to</span><span class="p">(</span><span class="n">radio_wrapchar</span><span class="p">,</span> <span class="n">radio_wrapnone</span><span class="p">,</span>
            <span class="n">Gtk</span><span class="o">.</span><span class="n">PositionType</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="n">radio_wrapword</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">RadioButton</span><span class="o">.</span><span class="n">new_with_label_from_widget</span><span class="p">(</span>
            <span class="n">radio_wrapnone</span><span class="p">,</span> <span class="s">&quot;Word Wrapping&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">attach_next_to</span><span class="p">(</span><span class="n">radio_wrapword</span><span class="p">,</span> <span class="n">radio_wrapchar</span><span class="p">,</span>
            <span class="n">Gtk</span><span class="o">.</span><span class="n">PositionType</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="n">radio_wrapnone</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;toggled&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_wrap_toggled</span><span class="p">,</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">WrapMode</span><span class="o">.</span><span class="n">NONE</span><span class="p">)</span>
        <span class="n">radio_wrapchar</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;toggled&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_wrap_toggled</span><span class="p">,</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">WrapMode</span><span class="o">.</span><span class="n">CHAR</span><span class="p">)</span>
        <span class="n">radio_wrapword</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;toggled&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_wrap_toggled</span><span class="p">,</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">WrapMode</span><span class="o">.</span><span class="n">WORD</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_button_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">tag</span><span class="p">):</span>
        <span class="n">bounds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">textbuffer</span><span class="o">.</span><span class="n">get_selection_bounds</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">bounds</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="n">bounds</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">textbuffer</span><span class="o">.</span><span class="n">apply_tag</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_clear_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
        <span class="n">start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">textbuffer</span><span class="o">.</span><span class="n">get_start_iter</span><span class="p">()</span>
        <span class="n">end</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">textbuffer</span><span class="o">.</span><span class="n">get_end_iter</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">textbuffer</span><span class="o">.</span><span class="n">remove_all_tags</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_editable_toggled</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">textview</span><span class="o">.</span><span class="n">set_editable</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">get_active</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">on_cursor_toggled</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">textview</span><span class="o">.</span><span class="n">set_cursor_visible</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">get_active</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">on_wrap_toggled</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">textview</span><span class="o">.</span><span class="n">set_wrap_mode</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_justify_toggled</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">justification</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">textview</span><span class="o">.</span><span class="n">set_justification</span><span class="p">(</span><span class="n">justification</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_search_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
        <span class="n">dialog</span> <span class="o">=</span> <span class="n">SearchDialog</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">dialog</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ResponseType</span><span class="o">.</span><span class="n">OK</span><span class="p">:</span>
            <span class="n">cursor_mark</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">textbuffer</span><span class="o">.</span><span class="n">get_insert</span><span class="p">()</span>
            <span class="n">start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">textbuffer</span><span class="o">.</span><span class="n">get_iter_at_mark</span><span class="p">(</span><span class="n">cursor_mark</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">start</span><span class="o">.</span><span class="n">get_offset</span><span class="p">()</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">textbuffer</span><span class="o">.</span><span class="n">get_char_count</span><span class="p">():</span>
                <span class="n">start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">textbuffer</span><span class="o">.</span><span class="n">get_start_iter</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">search_and_mark</span><span class="p">(</span><span class="n">dialog</span><span class="o">.</span><span class="n">entry</span><span class="o">.</span><span class="n">get_text</span><span class="p">(),</span> <span class="n">start</span><span class="p">)</span>

        <span class="n">dialog</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">search_and_mark</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">start</span><span class="p">):</span>
        <span class="n">end</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">textbuffer</span><span class="o">.</span><span class="n">get_end_iter</span><span class="p">()</span>
        <span class="n">match</span> <span class="o">=</span> <span class="n">start</span><span class="o">.</span><span class="n">forward_search</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">match</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">match_start</span><span class="p">,</span> <span class="n">match_end</span> <span class="o">=</span> <span class="n">match</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">textbuffer</span><span class="o">.</span><span class="n">apply_tag</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tag_found</span><span class="p">,</span> <span class="n">match_start</span><span class="p">,</span> <span class="n">match_end</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">search_and_mark</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">match_end</span><span class="p">)</span>

<span class="n">win</span> <span class="o">=</span> <span class="n">TextViewWindow</span><span class="p">()</span>
<span class="n">win</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;delete-event&quot;</span><span class="p">,</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">main_quit</span><span class="p">)</span>
<span class="n">win</span><span class="o">.</span><span class="n">show_all</span><span class="p">()</span>
<span class="n">Gtk</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">



    <h3>Project Versions</h3>
    <ul id="sidebar_versions">

  <li><a href="http://readthedocs.org/docs/python-gtk-3-tutorial/en/latest/">latest</a></li>

    </ul>
<div id="searchbox" style="">
  <h3>RTD Search</h3>
    <form class="search" action="http://readthedocs.org/search/project/" method="get">
      <input type="text" name="q" size="18">
      <input type="submit" value="Go">
      <input type="hidden" name="selected_facets" value="project:Python GTK+ 3 Tutorial">
    </form>
    <p class="searchtip" style="font-size: 90%">
        Full-text doc search.
    </p>
</div>



  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">12. Multiline Text Editor</a><ul>
<li><a class="reference internal" href="#the-view">12.1. The View</a><ul>
<li><a class="reference internal" href="#textview-objects">12.1.1. TextView Objects</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-model">12.2. The Model</a><ul>
<li><a class="reference internal" href="#textbuffer-objects">12.2.1. TextBuffer Objects</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tags">12.3. Tags</a></li>
<li><a class="reference internal" href="#example">12.4. Example</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="combobox.html"
                        title="previous chapter">11. ComboBox</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="menus.html"
                        title="next chapter">13. Menus</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/textview.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="menus.html" title="13. Menus"
             >next</a> |</li>
        <li class="right" >
          <a href="combobox.html" title="11. ComboBox"
             >previous</a> |</li>
        <li><a href="index.html">Python GTK+ 3 Tutorial 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2011, Sebastian Pölsterl.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.
    </div>
 <!-- End original user content -->



<style type="text/css">
  .badge {
    position: fixed;
    display: block;
    bottom: 5px;
    height: 40px;
    text-indent: -9999em;
    border-radius: 3px;
    -moz-border-radius: 3px;
    -webkit-border-radius: 3px;
    box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 1px 0 rgba(255, 255, 255, 0.2) inset;
    -moz-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 1px 0 rgba(255, 255, 255, 0.2) inset;
    -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 1px 0 rgba(255, 255, 255, 0.2) inset;
  }
  #version_menu {
    position: fixed;
    display: none;
    bottom: 11px;
    right: 166px;
    list-style-type: none;
    margin: 0;
  }
  .footer_popout:hover #version_menu {
    display: block;
  }
  #version_menu li {
    display: block;
    float: right;
  }
  #version_menu li a {
    display: block;
    padding: 6px 10px 4px 10px;
    margin: 7px 7px 0 0;
    font-weight: bold;
    font-size: 14px;
    height: 20px;
    line-height: 17px;
    text-decoration: none;
    color: #fff;
    background: #8ca1af url(../images/gradient-light.png) bottom left repeat-x;
    border-radius: 3px;
    -moz-border-radius: 3px;
    -webkit-border-radius: 3px;
    box-shadow: 0 1px 1px #465158;
    -moz-box-shadow: 0 1px 1px #465158;
    -webkit-box-shadow: 0 1px 1px #465158;
    text-shadow: 0 1px 1px rgba(0, 0, 0, 0.5);
  }
  #version_menu li a:hover {
    text-decoration: none;
    background-color: #697983;
    box-shadow: 0 1px 0px #465158;
    -moz-box-shadow: 0 1px 0px #465158;
    -webkit-box-shadow: 0 1px 0px #465158;
  }
  .badge.rtd {
    background: #257597 url(http://media.readthedocs.org/images/badge-rtd.png) top left no-repeat;
    border: 1px solid #282E32;
    width: 160px;
    right: 5px;
  }
  .badge.revsys { background: #465158 url(http://media.readthedocs.org/images/badge-revsys.png) top left no-repeat;
    border: 1px solid #1C5871;
    width: 290px;
    right: 173px;
  }
  .badge.revsys-inline-sponsored {
    position: inherit;
    margin-left: auto;
    margin-right: 175px;
    margin-bottom: 5px;
    background: #465158 url(http://media.readthedocs.org/images/badge-revsys.png) top left no-repeat;
    border: 1px solid #1C5871;
    width: 290px;
    right: 173px;
  }
  .badge.revsys-inline {
    position: inherit;
    margin-left: auto;
    margin-right: 175px;
    margin-bottom: 5px;
    background: #465158 url(http://media.readthedocs.org/images/badge-revsys-sm.png) top left no-repeat;
    border: 1px solid #1C5871;
    width: 205px;
    right: 173px;
  }

.rtd_doc_footer { background-color: #465158;}

</style>
<div class="rtd_doc_footer">
  <div class="footer_popout">
    <a href="http://readthedocs.org/projects/python-gtk-3-tutorial/?fromdocs=python-gtk-3-tutorial" class="badge rtd">Brought to you by Read the Docs</a>
    <ul id="version_menu">
      
        <li><a href="http://readthedocs.org/docs/python-gtk-3-tutorial/en/latest/">latest</a></li>
      
    </ul>
  </div>
</div>
<!-- RTD Analytics Code -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-17997319-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


<!-- User Analytics Code -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'None']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>