

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    

    <title>13. Menus &mdash; Python GTK+ 3 Tutorial 1.0 documentation</title>
<!-- RTD <head> -->
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script>
<script type="text/javascript" src="http://media.readthedocs.org/javascript/underscore.js"></script>
<script type="text/javascript" src="http://media.readthedocs.org/javascript/doctools.js"></script>
<script type="text/javascript" src="http://media.readthedocs.org/javascript/searchtools.js"></script>

  <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;"/>

  <script type="text/javascript">
    var doc_version = "latest";
    var doc_slug = "python-gtk-3-tutorial";
  </script>
  <script type="text/javascript" src="http://media.readthedocs.org/javascript/rtd.js"></script>
<!-- end RTD <head> -->

    
    <link rel="stylesheet" href="_static/rtd.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <link rel="top" title="Python GTK+ 3 Tutorial 1.0 documentation" href="index.html" />
    <link rel="next" title="14. Dialogs" href="dialogs.html" />
    <link rel="prev" title="12. Multiline Text Editor" href="textview.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="dialogs.html" title="14. Dialogs"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="textview.html" title="12. Multiline Text Editor"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Python GTK+ 3 Tutorial 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="menus">
<h1>13. Menus<a class="headerlink" href="#menus" title="Permalink to this headline">¶</a></h1>
<p>GTK+ comes with two different types of menus, <tt class="xref py py-class docutils literal"><span class="pre">Gtk.MenuBar</span></tt> and
<tt class="xref py py-class docutils literal"><span class="pre">Gtk.Toolbar</span></tt>. <tt class="xref py py-class docutils literal"><span class="pre">Gtk.MenuBar</span></tt> is a standard menu bar which contains
one or more <tt class="xref py py-class docutils literal"><span class="pre">Gtk.MenuItem</span></tt> instances or one of its subclasses.
<tt class="xref py py-class docutils literal"><span class="pre">Gtk.Toolbar</span></tt> widgets are used for quick accessibility to commonly used
functions of an application. Examples include creating a new document, printing
a page or undoing an operation. It contains one or more instances of
<tt class="xref py py-class docutils literal"><span class="pre">Gtk.ToolItem</span></tt> or one of its subclasses.</p>
<div class="section" id="actions">
<h2>13.1. Actions<a class="headerlink" href="#actions" title="Permalink to this headline">¶</a></h2>
<p>Although, there are specific APIs to create menus and toolbars, you should
use <a class="reference internal" href="#Gtk.UIManager" title="Gtk.UIManager"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.UIManager</span></tt></a> and create <a class="reference internal" href="#Gtk.Action" title="Gtk.Action"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.Action</span></tt></a> instances.
Actions are organised into groups. A <a class="reference internal" href="#Gtk.ActionGroup" title="Gtk.ActionGroup"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.ActionGroup</span></tt></a> is essentially a
map from names to <a class="reference internal" href="#Gtk.Action" title="Gtk.Action"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.Action</span></tt></a> objects.
All actions that would make sense to use in a particular context should be in a
single group. Multiple action groups may be used for a particular user interface.
In fact, it is expected that most non-trivial applications will make use of
multiple groups. For example, in an application that can edit multiple documents,
one group holding global actions (e.g. quit, about, new), and one group per
document holding actions that act on that document (eg. save, cut/copy/paste, etc).
Each window&#8217;s menus would be constructed from a combination of two action groups.</p>
<p>Different classes representing different types of actions exist:</p>
<ul class="simple">
<li><a class="reference internal" href="#Gtk.Action" title="Gtk.Action"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.Action</span></tt></a>: An action which can be triggered by a menu or toolbar
item</li>
<li><a class="reference internal" href="#Gtk.ToggleAction" title="Gtk.ToggleAction"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.ToggleAction</span></tt></a>: An action which can be toggled between two states</li>
<li><a class="reference internal" href="#Gtk.RadioAction" title="Gtk.RadioAction"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.RadioAction</span></tt></a>: An action of which only one in a group can be
active</li>
<li><tt class="xref py py-class docutils literal"><span class="pre">Gtk.RecentAction</span></tt>: An action of which represents a list of recently
used files</li>
</ul>
<p>Actions represent operations that the user can be perform, along with some
information how it should be presented in the interface, including its name
(not for display), its label (for display), an accelerator, whether a label
indicates a <a class="reference internal" href="stock.html#stock-items"><em>stock item</em></a>, a tooltip, as well as the callback
that is called when the action gets activated.</p>
<p>You can create actions by either calling one of the constructors directly and
adding them to a <a class="reference internal" href="#Gtk.ActionGroup" title="Gtk.ActionGroup"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.ActionGroup</span></tt></a> by calling
<a class="reference internal" href="#Gtk.ActionGroup.add_action" title="Gtk.ActionGroup.add_action"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.ActionGroup.add_action()</span></tt></a> or <a class="reference internal" href="#Gtk.ActionGroup.add_action_with_accel" title="Gtk.ActionGroup.add_action_with_accel"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.ActionGroup.add_action_with_accel()</span></tt></a>,
or by calling one of the convenience functions:</p>
<ul class="simple">
<li><a class="reference internal" href="#Gtk.ActionGroup.add_actions" title="Gtk.ActionGroup.add_actions"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.ActionGroup.add_actions()</span></tt></a>,</li>
<li><a class="reference internal" href="#Gtk.ActionGroup.add_toggle_actions" title="Gtk.ActionGroup.add_toggle_actions"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.ActionGroup.add_toggle_actions()</span></tt></a></li>
<li><a class="reference internal" href="#Gtk.ActionGroup.add_radio_actions" title="Gtk.ActionGroup.add_radio_actions"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.ActionGroup.add_radio_actions()</span></tt></a>.</li>
</ul>
<p>Note that you must specify actions for sub menus as well as menu items.</p>
<div class="section" id="action-objects">
<h3>13.1.1. Action Objects<a class="headerlink" href="#action-objects" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="Gtk.Action">
<em class="property">class </em><tt class="descclassname">Gtk.</tt><tt class="descname">Action</tt><big>(</big><em>name</em>, <em>label</em>, <em>tooltip</em>, <em>stock_id</em><big>)</big><a class="headerlink" href="#Gtk.Action" title="Permalink to this definition">¶</a></dt>
<dd><p><em>name</em> must be a unique name of the action.</p>
<p>If <em>label</em> is not <tt class="docutils literal"><span class="pre">None</span></tt>, it is displayed in menu items and on buttons.</p>
<p>If <em>tooltip</em> is not <tt class="docutils literal"><span class="pre">None</span></tt>, it is used as tooltip for the action.</p>
<p>If <em>stock_id</em> is not <tt class="docutils literal"><span class="pre">None</span></tt>, it is used to lookup the
<a class="reference internal" href="stock.html#stock-items"><em>stock item</em></a> to display
in widgets representing the action.</p>
</dd></dl>

<dl class="class">
<dt id="Gtk.ToggleAction">
<em class="property">class </em><tt class="descclassname">Gtk.</tt><tt class="descname">ToggleAction</tt><big>(</big><em>name</em>, <em>label</em>, <em>tooltip</em>, <em>stock_id</em><big>)</big><a class="headerlink" href="#Gtk.ToggleAction" title="Permalink to this definition">¶</a></dt>
<dd><p>The arguments are the same as for the <a class="reference internal" href="#Gtk.Action" title="Gtk.Action"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.Action</span></tt></a> constructor.</p>
</dd></dl>

<dl class="class">
<dt id="Gtk.RadioAction">
<em class="property">class </em><tt class="descclassname">Gtk.</tt><tt class="descname">RadioAction</tt><big>(</big><em>name</em>, <em>label</em>, <em>tooltip</em>, <em>stock_id</em>, <em>value</em><big>)</big><a class="headerlink" href="#Gtk.RadioAction" title="Permalink to this definition">¶</a></dt>
<dd><p>The first four arguments are the same as for the <a class="reference internal" href="#Gtk.Action" title="Gtk.Action"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.Action</span></tt></a> constructor.</p>
<p><em>value</em> indicates the value which <a class="reference internal" href="#Gtk.RadioAction.get_current_value" title="Gtk.RadioAction.get_current_value"><tt class="xref py py-meth docutils literal"><span class="pre">get_current_value()</span></tt></a> should return if
this action is selected.</p>
<dl class="method">
<dt id="Gtk.RadioAction.get_current_value">
<tt class="descname">get_current_value</tt><big>(</big><big>)</big><a class="headerlink" href="#Gtk.RadioAction.get_current_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtains the &#8220;value&#8221; property of the currently active member of the group
to which this action belongs.</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.RadioAction.join_group">
<tt class="descname">join_group</tt><big>(</big><em>group_source</em><big>)</big><a class="headerlink" href="#Gtk.RadioAction.join_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Joins this radio action object to the group of the <em>group_source</em> radio
action object.</p>
<p><em>group_source</em> must be a radio action object whose group we are joining,
or <tt class="docutils literal"><span class="pre">None</span></tt> to remove the radio action from its group.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="Gtk.ActionGroup">
<em class="property">class </em><tt class="descclassname">Gtk.</tt><tt class="descname">ActionGroup</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#Gtk.ActionGroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new <a class="reference internal" href="#Gtk.ActionGroup" title="Gtk.ActionGroup"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.ActionGroup</span></tt></a> instance. The name of the action group
is used when associating keybindings with the actions.</p>
<dl class="method">
<dt id="Gtk.ActionGroup.add_action">
<tt class="descname">add_action</tt><big>(</big><em>action</em><big>)</big><a class="headerlink" href="#Gtk.ActionGroup.add_action" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an <a class="reference internal" href="#Gtk.Action" title="Gtk.Action"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.Action</span></tt></a> object to the action group.</p>
<p>Note that this method does not set up the accelerator path of the action,
use <a class="reference internal" href="#Gtk.ActionGroup.add_action_with_accel" title="Gtk.ActionGroup.add_action_with_accel"><tt class="xref py py-meth docutils literal"><span class="pre">add_action_with_accel()</span></tt></a> instead.</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.ActionGroup.add_action_with_accel">
<tt class="descname">add_action_with_accel</tt><big>(</big><em>action</em>, <em>accelerator</em><big>)</big><a class="headerlink" href="#Gtk.ActionGroup.add_action_with_accel" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an <a class="reference internal" href="#Gtk.Action" title="Gtk.Action"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.Action</span></tt></a> object to the action group and sets up the
accelerator.</p>
<p><em>accelerator</em> must be in the format understood by <a class="reference internal" href="#Gtk.accelerator_parse" title="Gtk.accelerator_parse"><tt class="xref py py-func docutils literal"><span class="pre">Gtk.accelerator_parse()</span></tt></a>,
or <tt class="docutils literal"><span class="pre">&quot;&quot;</span></tt> for no accelerator, or <tt class="docutils literal"><span class="pre">None</span></tt> to use the stock accelerator.</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.ActionGroup.add_actions">
<tt class="descname">add_actions</tt><big>(</big><em>entries</em><span class="optional">[</span>, <em>user_data</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#Gtk.ActionGroup.add_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a convenience function to create a number of <a class="reference internal" href="#Gtk.Action" title="Gtk.Action"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.Action</span></tt></a>
objects and add them to this action group.</p>
<p><em>entries</em> is a list of tuples which can vary in size from one to six
items with the following information:</p>
<ul class="simple">
<li>The name of the action (mandatory)</li>
<li>The <a class="reference internal" href="stock.html#stock-items"><em>stock item</em></a> of the action (default: <tt class="docutils literal"><span class="pre">None</span></tt>)</li>
<li>The label for the action (default: <tt class="docutils literal"><span class="pre">None</span></tt>)</li>
<li>The accelerator for the action, in the format understood by the
<a class="reference internal" href="#Gtk.accelerator_parse" title="Gtk.accelerator_parse"><tt class="xref py py-func docutils literal"><span class="pre">Gtk.accelerator_parse()</span></tt></a> function (default: <tt class="docutils literal"><span class="pre">None</span></tt>)</li>
<li>The tooltip of the action (default: <tt class="docutils literal"><span class="pre">None</span></tt>)</li>
<li>The callback function invoked when the action is activated
(default: <tt class="docutils literal"><span class="pre">None</span></tt>)</li>
</ul>
<p>The &#8220;activate&#8221; signals of the actions are connected to the callbacks.</p>
<p>If <em>user_data</em> is not <tt class="docutils literal"><span class="pre">None</span></tt>, it is passed to the callback function
(if specified).</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.ActionGroup.add_toggle_actions">
<tt class="descname">add_toggle_actions</tt><big>(</big><em>entries</em><span class="optional">[</span>, <em>user_data</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#Gtk.ActionGroup.add_toggle_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a convenience function to create a number of
<a class="reference internal" href="#Gtk.ToggleAction" title="Gtk.ToggleAction"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.ToggleAction</span></tt></a> objects and add them to this action group.</p>
<p><em>entries</em> is a list of tuples which can vary in size from one to seven
items with the following information:</p>
<ul class="simple">
<li>The name of the action (mandatory)</li>
<li>The <a class="reference internal" href="stock.html#stock-items"><em>stock item</em></a> of the action (default: <tt class="docutils literal"><span class="pre">None</span></tt>)</li>
<li>The label for the action (default: <tt class="docutils literal"><span class="pre">None</span></tt>)</li>
<li>The accelerator for the action, in the format understood by the
<a class="reference internal" href="#Gtk.accelerator_parse" title="Gtk.accelerator_parse"><tt class="xref py py-func docutils literal"><span class="pre">Gtk.accelerator_parse()</span></tt></a> function (default: <tt class="docutils literal"><span class="pre">None</span></tt>)</li>
<li>The tooltip of the action (default: <tt class="docutils literal"><span class="pre">None</span></tt>)</li>
<li>The callback function invoked when the action is activated
(default: <tt class="docutils literal"><span class="pre">None</span></tt>)</li>
<li>A Boolean indicating whether the toggle action is active
(default: <tt class="docutils literal"><span class="pre">False</span></tt>)</li>
</ul>
<p>The &#8220;activate&#8221; signals of the actions are connected to the callbacks.</p>
<p>If <em>user_data</em> is not <tt class="docutils literal"><span class="pre">None</span></tt>, it is passed to the callback function
(if specified).</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.ActionGroup.add_radio_actions">
<tt class="descname">add_radio_actions</tt><big>(</big><em>entries</em><span class="optional">[</span>, <em>value</em><span class="optional">[</span>, <em>on_change</em><span class="optional">[</span>, <em>user_data</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#Gtk.ActionGroup.add_radio_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a convenience routine to create a group of <a class="reference internal" href="#Gtk.RadioAction" title="Gtk.RadioAction"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.RadioAction</span></tt></a>
objects and add them to this action group.</p>
<p><em>entries</em> is a list of tuples which can vary in size from one to six
items with the following information:</p>
<ul class="simple">
<li>The name of the action (mandatory)</li>
<li>The <a class="reference internal" href="stock.html#stock-items"><em>stock item</em></a> of the action (default: <tt class="docutils literal"><span class="pre">None</span></tt>)</li>
<li>The label for the action (default: <tt class="docutils literal"><span class="pre">None</span></tt>)</li>
<li>The accelerator for the action, in the format understood by the
<a class="reference internal" href="#Gtk.accelerator_parse" title="Gtk.accelerator_parse"><tt class="xref py py-func docutils literal"><span class="pre">Gtk.accelerator_parse()</span></tt></a> function (default: <tt class="docutils literal"><span class="pre">None</span></tt>)</li>
<li>The tooltip of the action (default: <tt class="docutils literal"><span class="pre">None</span></tt>)</li>
<li>The value to set on the radio action (default: 0)</li>
</ul>
<p><em>value</em> specifies the radio action that should be set active.</p>
<p>The &#8220;changed&#8221; signal of the first radio action is connected to
the <em>on_change</em> callback  (if specified).</p>
<p>If <em>user_data</em> is not <tt class="docutils literal"><span class="pre">None</span></tt>, it is passed to the callback function
(if specified).</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="Gtk.accelerator_parse">
<tt class="descclassname">Gtk.</tt><tt class="descname">accelerator_parse</tt><big>(</big><em>accelerator</em><big>)</big><a class="headerlink" href="#Gtk.accelerator_parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a string representing an accelerator. The format looks like
&#8220;&lt;Control&gt;a&#8221; or &#8220;&lt;Shift&gt;&lt;Alt&gt;F1&#8221; or &#8220;&lt;Release&gt;z&#8221; (the last one is for key release).
The parser is fairly liberal and allows lower or upper case, and also
abbreviations such as &#8220;&lt;Ctl&gt;&#8221; and &#8220;&lt;Ctrl&gt;&#8221;.
For character keys the name is not the symbol, but the lowercase name, e.g.
one would use &#8220;&lt;Ctrl&gt;minus&#8221; instead of &#8220;&lt;Ctrl&gt;-&#8221;.</p>
<p>Returns a tuple <tt class="docutils literal"><span class="pre">(accelerator_key,</span> <span class="pre">accelerator_mods)</span></tt>, where the latter
represents the accelerator modifier mask and the first the accelerator keyval.
Both values will be set to 0 (zero) if parsing failed.</p>
</dd></dl>

</div>
</div>
<div class="section" id="ui-manager">
<h2>13.2. UI Manager<a class="headerlink" href="#ui-manager" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="#Gtk.UIManager" title="Gtk.UIManager"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.UIManager</span></tt></a> provides an easy way of creating menus and toolbars using
an <a class="reference external" href="http://developer.gnome.org/gtk3/stable/GtkUIManager.html#XML-UI">XML-like description</a>.</p>
<p>First of all, you should add the <a class="reference internal" href="#Gtk.ActionGroup" title="Gtk.ActionGroup"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.ActionGroup</span></tt></a> to the UI Manager with
<a class="reference internal" href="#Gtk.UIManager.insert_action_group" title="Gtk.UIManager.insert_action_group"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.UIManager.insert_action_group()</span></tt></a>. At this point is also a good idea to
tell the parent window to respond to the specified keyboard shortcuts, by using
<a class="reference internal" href="#Gtk.UIManager.get_accel_group" title="Gtk.UIManager.get_accel_group"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.UIManager.get_accel_group()</span></tt></a> and <tt class="xref py py-meth docutils literal"><span class="pre">Gtk.Window.add_accel_group()</span></tt>.</p>
<p>Then, you can define the actual visible layout of the menus and toolbars, and
add the UI layout. This &#8220;ui string&#8221; uses an XML format, in which you should
mention the names of the actions that you have already created.
Remember that these names are just the identifiers that we used when creating
the actions. They are not the text that the user will see in the menus and
toolbars. We provided those human-readable names when we created the actions.</p>
<p>Finally, you retrieve the root widget with <a class="reference internal" href="#Gtk.UIManager.get_widget" title="Gtk.UIManager.get_widget"><tt class="xref py py-meth docutils literal"><span class="pre">Gtk.UIManager.get_widget()</span></tt></a>
and add the widget to a container such as <a class="reference internal" href="layout.html#Gtk.Box" title="Gtk.Box"><tt class="xref py py-class docutils literal"><span class="pre">Gtk.Box</span></tt></a>.</p>
<div class="section" id="uimanager-objects">
<h3>13.2.1. UIManager Objects<a class="headerlink" href="#uimanager-objects" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="Gtk.UIManager">
<em class="property">class </em><tt class="descclassname">Gtk.</tt><tt class="descname">UIManager</tt><a class="headerlink" href="#Gtk.UIManager" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="Gtk.UIManager.insert_action_group">
<tt class="descname">insert_action_group</tt><big>(</big><em>action_group</em><span class="optional">[</span>, <em>pos</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#Gtk.UIManager.insert_action_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts an action group into the list of action groups associated with
this manager. Actions in earlier groups hide actions with the same name
in later groups.</p>
<p><em>pos</em> is the position at which the group will be inserted. If omitted,
it will be appended.</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.UIManager.get_accel_group">
<tt class="descname">get_accel_group</tt><big>(</big><big>)</big><a class="headerlink" href="#Gtk.UIManager.get_accel_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the group of global keyboard accelerators associated with this
manager.</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.UIManager.get_widget">
<tt class="descname">get_widget</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#Gtk.UIManager.get_widget" title="Permalink to this definition">¶</a></dt>
<dd><p>Looks up a widget by following a path. The path consists of the names
specified in the XML description of the UI. separated by &#8216;/&#8217;. Elements
which don&#8217;t have a name or action attribute in the XML (e.g. &lt;popup&gt;)
can be addressed by their XML element name (e.g. &#8220;popup&#8221;). The root
element (&#8220;/ui&#8221;) can be omitted in the path.</p>
<p>Returns the widget found by following the <em>path</em>, or <tt class="docutils literal"><span class="pre">None</span></tt> if no
widget was found.</p>
</dd></dl>

<dl class="method">
<dt id="Gtk.UIManager.add_ui_from_string">
<tt class="descname">add_ui_from_string</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#Gtk.UIManager.add_ui_from_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses <em>text</em> containing a <a class="reference external" href="http://developer.gnome.org/gtk3/stable/GtkUIManager.html#XML-UI">UI definition</a>
and merges it with the current contents of manager. An enclosing &lt;ui&gt;
element is added if it is missing.</p>
<p>Returns the merge id for the merged UI.</p>
<p>Throws an exception if an error occurred.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="example">
<h2>13.3. Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<img alt="_images/menu_example.png" src="_images/menu_example.png" />
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">gi.repository</span> <span class="kn">import</span> <span class="n">Gtk</span><span class="p">,</span> <span class="n">Gdk</span>

<span class="n">UI_INFO</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;</span>
<span class="s">&lt;ui&gt;</span>
<span class="s">  &lt;menubar name=&#39;MenuBar&#39;&gt;</span>
<span class="s">    &lt;menu action=&#39;FileMenu&#39;&gt;</span>
<span class="s">      &lt;menu action=&#39;FileNew&#39;&gt;</span>
<span class="s">        &lt;menuitem action=&#39;FileNewStandard&#39; /&gt;</span>
<span class="s">        &lt;menuitem action=&#39;FileNewFoo&#39; /&gt;</span>
<span class="s">        &lt;menuitem action=&#39;FileNewGoo&#39; /&gt;</span>
<span class="s">      &lt;/menu&gt;</span>
<span class="s">      &lt;separator /&gt;</span>
<span class="s">      &lt;menuitem action=&#39;FileQuit&#39; /&gt;</span>
<span class="s">    &lt;/menu&gt;</span>
<span class="s">    &lt;menu action=&#39;EditMenu&#39;&gt;</span>
<span class="s">      &lt;menuitem action=&#39;EditCopy&#39; /&gt;</span>
<span class="s">      &lt;menuitem action=&#39;EditPaste&#39; /&gt;</span>
<span class="s">      &lt;menuitem action=&#39;EditSomething&#39; /&gt;</span>
<span class="s">    &lt;/menu&gt;</span>
<span class="s">    &lt;menu action=&#39;ChoicesMenu&#39;&gt;</span>
<span class="s">      &lt;menuitem action=&#39;ChoiceOne&#39;/&gt;</span>
<span class="s">      &lt;menuitem action=&#39;ChoiceTwo&#39;/&gt;</span>
<span class="s">      &lt;separator /&gt;</span>
<span class="s">      &lt;menuitem action=&#39;ChoiceThree&#39;/&gt;</span>
<span class="s">    &lt;/menu&gt;</span>
<span class="s">  &lt;/menubar&gt;</span>
<span class="s">  &lt;toolbar name=&#39;ToolBar&#39;&gt;</span>
<span class="s">    &lt;toolitem action=&#39;FileNewStandard&#39; /&gt;</span>
<span class="s">    &lt;toolitem action=&#39;FileQuit&#39; /&gt;</span>
<span class="s">  &lt;/toolbar&gt;</span>
<span class="s">  &lt;popup name=&#39;PopupMenu&#39;&gt;</span>
<span class="s">    &lt;menuitem action=&#39;EditCopy&#39; /&gt;</span>
<span class="s">    &lt;menuitem action=&#39;EditPaste&#39; /&gt;</span>
<span class="s">    &lt;menuitem action=&#39;EditSomething&#39; /&gt;</span>
<span class="s">  &lt;/popup&gt;</span>
<span class="s">&lt;/ui&gt;</span>
<span class="s">&quot;&quot;&quot;</span>

<span class="k">class</span> <span class="nc">MenuExampleWindow</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Window</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">Gtk</span><span class="o">.</span><span class="n">Window</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s">&quot;Menu Example&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">set_default_size</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>

        <span class="n">action_group</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ActionGroup</span><span class="p">(</span><span class="s">&quot;my_actions&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_file_menu_actions</span><span class="p">(</span><span class="n">action_group</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_edit_menu_actions</span><span class="p">(</span><span class="n">action_group</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_choices_menu_actions</span><span class="p">(</span><span class="n">action_group</span><span class="p">)</span>

        <span class="n">uimanager</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_ui_manager</span><span class="p">()</span>
        <span class="n">uimanager</span><span class="o">.</span><span class="n">insert_action_group</span><span class="p">(</span><span class="n">action_group</span><span class="p">)</span>

        <span class="n">menubar</span> <span class="o">=</span> <span class="n">uimanager</span><span class="o">.</span><span class="n">get_widget</span><span class="p">(</span><span class="s">&quot;/MenuBar&quot;</span><span class="p">)</span>

        <span class="n">box</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Box</span><span class="p">(</span><span class="n">orientation</span><span class="o">=</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Orientation</span><span class="o">.</span><span class="n">VERTICAL</span><span class="p">)</span>
        <span class="n">box</span><span class="o">.</span><span class="n">pack_start</span><span class="p">(</span><span class="n">menubar</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="n">toolbar</span> <span class="o">=</span> <span class="n">uimanager</span><span class="o">.</span><span class="n">get_widget</span><span class="p">(</span><span class="s">&quot;/ToolBar&quot;</span><span class="p">)</span>
        <span class="n">box</span><span class="o">.</span><span class="n">pack_start</span><span class="p">(</span><span class="n">toolbar</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="n">eventbox</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">EventBox</span><span class="p">()</span>
        <span class="n">eventbox</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;button-press-event&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_button_press_event</span><span class="p">)</span>
        <span class="n">box</span><span class="o">.</span><span class="n">pack_start</span><span class="p">(</span><span class="n">eventbox</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="n">label</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s">&quot;Right-click to see the popup menu.&quot;</span><span class="p">)</span>
        <span class="n">eventbox</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">popup</span> <span class="o">=</span> <span class="n">uimanager</span><span class="o">.</span><span class="n">get_widget</span><span class="p">(</span><span class="s">&quot;/PopupMenu&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">box</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_file_menu_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action_group</span><span class="p">):</span>
        <span class="n">action_filemenu</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span><span class="s">&quot;FileMenu&quot;</span><span class="p">,</span> <span class="s">&quot;File&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="n">action_group</span><span class="o">.</span><span class="n">add_action</span><span class="p">(</span><span class="n">action_filemenu</span><span class="p">)</span>

        <span class="n">action_filenewmenu</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span><span class="s">&quot;FileNew&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">STOCK_NEW</span><span class="p">)</span>
        <span class="n">action_group</span><span class="o">.</span><span class="n">add_action</span><span class="p">(</span><span class="n">action_filenewmenu</span><span class="p">)</span>

        <span class="n">action_new</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span><span class="s">&quot;FileNewStandard&quot;</span><span class="p">,</span> <span class="s">&quot;_New&quot;</span><span class="p">,</span>
            <span class="s">&quot;Create a new file&quot;</span><span class="p">,</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">STOCK_NEW</span><span class="p">)</span>
        <span class="n">action_new</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;activate&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_menu_file_new_generic</span><span class="p">)</span>
        <span class="n">action_group</span><span class="o">.</span><span class="n">add_action_with_accel</span><span class="p">(</span><span class="n">action_new</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>

        <span class="n">action_group</span><span class="o">.</span><span class="n">add_actions</span><span class="p">([</span>
            <span class="p">(</span><span class="s">&quot;FileNewFoo&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&quot;New Foo&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&quot;Create new foo&quot;</span><span class="p">,</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">on_menu_file_new_generic</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&quot;FileNewGoo&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&quot;_New Goo&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&quot;Create new goo&quot;</span><span class="p">,</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">on_menu_file_new_generic</span><span class="p">),</span>
        <span class="p">])</span>

        <span class="n">action_filequit</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span><span class="s">&quot;FileQuit&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">STOCK_QUIT</span><span class="p">)</span>
        <span class="n">action_filequit</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;activate&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_menu_file_quit</span><span class="p">)</span>
        <span class="n">action_group</span><span class="o">.</span><span class="n">add_action</span><span class="p">(</span><span class="n">action_filequit</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_edit_menu_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action_group</span><span class="p">):</span>
        <span class="n">action_group</span><span class="o">.</span><span class="n">add_actions</span><span class="p">([</span>
            <span class="p">(</span><span class="s">&quot;EditMenu&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&quot;Edit&quot;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&quot;EditCopy&quot;</span><span class="p">,</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">STOCK_COPY</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">on_menu_others</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&quot;EditPaste&quot;</span><span class="p">,</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">STOCK_PASTE</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">on_menu_others</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&quot;EditSomething&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&quot;Something&quot;</span><span class="p">,</span> <span class="s">&quot;&lt;control&gt;&lt;alt&gt;S&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span>
             <span class="bp">self</span><span class="o">.</span><span class="n">on_menu_others</span><span class="p">)</span>
        <span class="p">])</span>

    <span class="k">def</span> <span class="nf">add_choices_menu_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action_group</span><span class="p">):</span>
        <span class="n">action_group</span><span class="o">.</span><span class="n">add_action</span><span class="p">(</span><span class="n">Gtk</span><span class="o">.</span><span class="n">Action</span><span class="p">(</span><span class="s">&quot;ChoicesMenu&quot;</span><span class="p">,</span> <span class="s">&quot;Choices&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>

        <span class="n">action_group</span><span class="o">.</span><span class="n">add_radio_actions</span><span class="p">([</span>
            <span class="p">(</span><span class="s">&quot;ChoiceOne&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&quot;One&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&quot;ChoiceTwo&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&quot;Two&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_menu_choices_changed</span><span class="p">)</span>

        <span class="n">three</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">ToggleAction</span><span class="p">(</span><span class="s">&quot;ChoiceThree&quot;</span><span class="p">,</span> <span class="s">&quot;Three&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="n">three</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;toggled&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_menu_choices_toggled</span><span class="p">)</span>
        <span class="n">action_group</span><span class="o">.</span><span class="n">add_action</span><span class="p">(</span><span class="n">three</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_ui_manager</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">uimanager</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">UIManager</span><span class="p">()</span>

        <span class="c"># Throws exception if something went wrong</span>
        <span class="n">uimanager</span><span class="o">.</span><span class="n">add_ui_from_string</span><span class="p">(</span><span class="n">UI_INFO</span><span class="p">)</span>

        <span class="c"># Add the accelerator group to the toplevel window</span>
        <span class="n">accelgroup</span> <span class="o">=</span> <span class="n">uimanager</span><span class="o">.</span><span class="n">get_accel_group</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_accel_group</span><span class="p">(</span><span class="n">accelgroup</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">uimanager</span>

    <span class="k">def</span> <span class="nf">on_menu_file_new_generic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">&quot;A File|New menu item was selected.&quot;</span>

    <span class="k">def</span> <span class="nf">on_menu_file_quit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
        <span class="n">Gtk</span><span class="o">.</span><span class="n">main_quit</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">on_menu_others</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">&quot;Menu item &quot;</span> <span class="o">+</span> <span class="n">widget</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot; was selected&quot;</span>

    <span class="k">def</span> <span class="nf">on_menu_choices_changed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">current</span><span class="p">):</span>
        <span class="k">print</span> <span class="n">current</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot; was selected.&quot;</span>

    <span class="k">def</span> <span class="nf">on_menu_choices_toggled</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">widget</span><span class="o">.</span><span class="n">get_active</span><span class="p">():</span>
            <span class="k">print</span> <span class="n">widget</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot; activated&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">print</span> <span class="n">widget</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span> <span class="o">+</span> <span class="s">&quot; deactivated&quot;</span>

    <span class="k">def</span> <span class="nf">on_button_press_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="c"># Check if right mouse button was preseed</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">Gdk</span><span class="o">.</span><span class="n">EventType</span><span class="o">.</span><span class="n">BUTTON_PRESS</span> <span class="ow">and</span> <span class="n">event</span><span class="o">.</span><span class="n">button</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">popup</span><span class="o">.</span><span class="n">popup</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">button</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">time</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">True</span> <span class="c"># event has been handled</span>

<span class="n">window</span> <span class="o">=</span> <span class="n">MenuExampleWindow</span><span class="p">()</span>        
<span class="n">window</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">&quot;delete-event&quot;</span><span class="p">,</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">main_quit</span><span class="p">)</span>
<span class="n">window</span><span class="o">.</span><span class="n">show_all</span><span class="p">()</span>
<span class="n">Gtk</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>
</td></tr></table></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">



    <h3>Project Versions</h3>
    <ul id="sidebar_versions">

  <li><a href="http://readthedocs.org/docs/python-gtk-3-tutorial/en/latest/">latest</a></li>

    </ul>
<div id="searchbox" style="">
  <h3>RTD Search</h3>
    <form class="search" action="http://readthedocs.org/search/project/" method="get">
      <input type="text" name="q" size="18">
      <input type="submit" value="Go">
      <input type="hidden" name="selected_facets" value="project:Python GTK+ 3 Tutorial">
    </form>
    <p class="searchtip" style="font-size: 90%">
        Full-text doc search.
    </p>
</div>



  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">13. Menus</a><ul>
<li><a class="reference internal" href="#actions">13.1. Actions</a><ul>
<li><a class="reference internal" href="#action-objects">13.1.1. Action Objects</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ui-manager">13.2. UI Manager</a><ul>
<li><a class="reference internal" href="#uimanager-objects">13.2.1. UIManager Objects</a></li>
</ul>
</li>
<li><a class="reference internal" href="#example">13.3. Example</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="textview.html"
                        title="previous chapter">12. Multiline Text Editor</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="dialogs.html"
                        title="next chapter">14. Dialogs</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/menus.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="dialogs.html" title="14. Dialogs"
             >next</a> |</li>
        <li class="right" >
          <a href="textview.html" title="12. Multiline Text Editor"
             >previous</a> |</li>
        <li><a href="index.html">Python GTK+ 3 Tutorial 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2011, Sebastian Pölsterl.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
 <!-- End original user content -->



<style type="text/css">
  .badge {
    position: fixed;
    display: block;
    bottom: 5px;
    height: 40px;
    text-indent: -9999em;
    border-radius: 3px;
    -moz-border-radius: 3px;
    -webkit-border-radius: 3px;
    box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 1px 0 rgba(255, 255, 255, 0.2) inset;
    -moz-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 1px 0 rgba(255, 255, 255, 0.2) inset;
    -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 1px 0 rgba(255, 255, 255, 0.2) inset;
  }
  #version_menu {
    position: fixed;
    display: none;
    bottom: 11px;
    right: 166px;
    list-style-type: none;
    margin: 0;
  }
  .footer_popout:hover #version_menu {
    display: block;
  }
  #version_menu li {
    display: block;
    float: right;
  }
  #version_menu li a {
    display: block;
    padding: 6px 10px 4px 10px;
    margin: 7px 7px 0 0;
    font-weight: bold;
    font-size: 14px;
    height: 20px;
    line-height: 17px;
    text-decoration: none;
    color: #fff;
    background: #8ca1af url(../images/gradient-light.png) bottom left repeat-x;
    border-radius: 3px;
    -moz-border-radius: 3px;
    -webkit-border-radius: 3px;
    box-shadow: 0 1px 1px #465158;
    -moz-box-shadow: 0 1px 1px #465158;
    -webkit-box-shadow: 0 1px 1px #465158;
    text-shadow: 0 1px 1px rgba(0, 0, 0, 0.5);
  }
  #version_menu li a:hover {
    text-decoration: none;
    background-color: #697983;
    box-shadow: 0 1px 0px #465158;
    -moz-box-shadow: 0 1px 0px #465158;
    -webkit-box-shadow: 0 1px 0px #465158;
  }
  .badge.rtd {
    background: #257597 url(http://media.readthedocs.org/images/badge-rtd.png) top left no-repeat;
    border: 1px solid #282E32;
    width: 160px;
    right: 5px;
  }
  .badge.revsys { background: #465158 url(http://media.readthedocs.org/images/badge-revsys.png) top left no-repeat;
    border: 1px solid #1C5871;
    width: 290px;
    right: 173px;
  }
  .badge.revsys-inline-sponsored {
    position: inherit;
    margin-left: auto;
    margin-right: 175px;
    margin-bottom: 5px;
    background: #465158 url(http://media.readthedocs.org/images/badge-revsys.png) top left no-repeat;
    border: 1px solid #1C5871;
    width: 290px;
    right: 173px;
  }
  .badge.revsys-inline {
    position: inherit;
    margin-left: auto;
    margin-right: 175px;
    margin-bottom: 5px;
    background: #465158 url(http://media.readthedocs.org/images/badge-revsys-sm.png) top left no-repeat;
    border: 1px solid #1C5871;
    width: 205px;
    right: 173px;
  }

.rtd_doc_footer { background-color: #465158;}

</style>
<div class="rtd_doc_footer">
  <div class="footer_popout">
    <a href="http://readthedocs.org/projects/python-gtk-3-tutorial/?fromdocs=python-gtk-3-tutorial" class="badge rtd">Brought to you by Read the Docs</a>
    <ul id="version_menu">
      
        <li><a href="http://readthedocs.org/docs/python-gtk-3-tutorial/en/latest/">latest</a></li>
      
    </ul>
  </div>
</div>
<!-- RTD Analytics Code -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-17997319-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


<!-- User Analytics Code -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'None']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>